<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>CRC Card Tables | ENG1-C1G5</title>

  <meta property="og:title" content="CRC Card Tables" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="ENG1-C1G5" />
  <meta property="og:type" content="website" />

  <!-- Relative-safe URLs -->
  <link rel="canonical" href="./crc-card-table.html" />
  <meta property="og:url" content="./crc-card-table.html" />

  <link rel="stylesheet" href="assets/main.css" />
  <link rel="alternate" type="application/atom+xml" href="feed.xml" title="ENG1-C1G5" />
</head>

<body>
<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="index.html">ENG1-C1G5</a>

    <nav class="site-nav">
      <div class="trigger">
        <a class="page-link" href="index.html">Home Page</a>
        <a class="page-link" href="key-talking-points.html">Technical Information</a>
        <a class="page-link" href="architecture/index.html">Architecture</a>
        <a class="page-link" href="architecture-diagrams/index.html">Architecture Diagrams</a>
        <a class="page-link" href="crc-card-table.html">CRC Card Tables</a>
        <a class="page-link" href="gantt-chart.html">Gantt Chart</a>
        <a class="page-link" href="Jacoco-report/index.html">Test Coverage Report</a>
      </div>
    </nav>
  </div>
</header>

<main class="page-content" aria-label="Content">
  <div class="wrapper">
    <article class="post">

      <header class="post-header">
        <h1 class="post-title">CRC Card Tables</h1>
      </header>

      <div class="post-content">
        <p>We used Class-Responsibility-Collaborator (CRC) cards to plan how different parts of our game fit together in the Entity-Component-System (ECS) architecture.<br />
        Each CRC card explains what something does (its responsibility) and who it works with (its collaborators).</p>

        <p>Our ECS approach splits the game into:</p>
        <ul>
          <li><strong>Components</strong> -&gt; store data</li>
          <li><strong>Systems</strong> -&gt; handle behaviour and logic</li>
          <li><strong>Messages</strong> -&gt; let different systems talk to each other</li>
        </ul>

        <p>This makes it easier to add new features or change old ones without breaking everything else.</p>

        <h2 id="components">Components</h2>

        <p>These are the data bits attached to entities. They don’t do anything on their own - the systems read from them and update them.</p>

        <table>
          <thead>
            <tr>
              <th>Component</th>
              <th>Responsibilities</th>
              <th>Collaborators</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>CameraFollowComponent</strong></td>
              <td>Tells the camera which entity to follow (usually the player).</td>
              <td>WorldCameraSystem, TransformComponent</td>
            </tr>
            <tr>
              <td><strong>ChaserComponent</strong></td>
              <td>Stores info for any Chaser entity, such as whether it's chasing the player or patrolling.</td>
              <td>GooseSystem, TransformComponent, PhysicsComponent, PlayerComponent</td>
            </tr>
            <tr>
              <td><strong>InteractableComponent</strong></td>
              <td>Marks an object as interactable (like a button, switch, or collectible). Can also send messages or disappear when used.</td>
              <td>InteractableSystem, MessagePublisher, PlayerComponent, LecturerSystem, SurveyorSystem</td>
            </tr>
            <tr>
              <td><strong>PhysicsComponent</strong></td>
              <td>Holds the Box2D body and its physics settings (mass, type, shape, etc.).</td>
              <td>PhysicsSystem, PhysicsSyncSystem, PhysicsToTransformSystem</td>
            </tr>
            <tr>
              <td><strong>PlayerComponent</strong></td>
              <td>Keeps track of player movement direction, speed, and animation state.</td>
              <td>PlayerSystem, PhysicsComponent, AnimationComponent, TransformComponent</td>
            </tr>
            <tr>
              <td><strong>SpriteComponent</strong></td>
              <td>Contains the texture and render layer for drawing on screen.</td>
              <td>RenderingSystem, RenderOrderComparator, TransformComponent</td>
            </tr>
            <tr>
              <td><strong>TimerComponent</strong></td>
              <td>A simple countdown timer that sends a message when it finishes.</td>
              <td>TimerSystem, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>TransformComponent</strong></td>
              <td>Stores an entity’s position, rotation, and scale. Used by nearly every system.</td>
              <td>PhysicsToTransformSystem, RenderingSystem, CameraFollowComponent, PlayerSystem</td>
            </tr>
            <tr>
              <td><strong>AnimationComponent</strong></td>
              <td>Keeps track of animation state, current clip, and frame speed.</td>
              <td>RenderingSystem, PlayerSystem, AssetLoader</td>
            </tr>
            <tr>
              <td><strong>AudioListenerComponent</strong></td>
              <td>Marks which entity the audio listener follows (usually the player).</td>
              <td>AudioSystem, TransformComponent</td>
            </tr>
            <tr>
              <td><strong>HiddenWallComponent</strong></td>
              <td>For walls that appear or disappear when triggered.</td>
              <td>HiddenWallSystem, InteractableSystem, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>NpcComponent</strong></td>
              <td>Stores the state machine state that the different NPCs are in</td>
              <td>IteratingFixedStepSystem</td>
            </tr>
          </tbody>
        </table>

        <hr />

        <h2 id="systems">Systems</h2>

        <p>These handle the behaviour and logic. Each one focuses on a single job, like physics, input, rendering, or audio.</p>

        <table>
          <thead>
            <tr>
              <th>Component</th>
              <th>Responsibilities</th>
              <th>Collaborators</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>PlayerSystem</strong></td>
              <td>Reads player input, moves the character, and updates animations or sounds.</td>
              <td>PlayerComponent, PhysicsComponent, AnimationComponent, AudioSystem</td>
            </tr>
            <tr>
              <td><strong>PhysicsSystem</strong></td>
              <td>Runs Box2D physics at a fixed timestep to keep movement smooth and stable.</td>
              <td>PhysicsComponent, TransformComponent, SafeBodyDestroy, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>PhysicsSyncSystem</strong></td>
              <td>Syncs transforms with physics bodies after updates.</td>
              <td>TransformComponent, PhysicsComponent</td>
            </tr>
            <tr>
              <td><strong>PhysicsToTransformSystem</strong></td>
              <td>Copies body positions from Box2D to the entity transforms before rendering.</td>
              <td>TransformComponent, PhysicsComponent, RenderingSystem</td>
            </tr>
            <tr>
              <td><strong>RenderingSystem</strong></td>
              <td>Draws all sprites and animations in the correct order (based on Y-position and layer).</td>
              <td>SpriteComponent, AnimationComponent, TransformComponent, RenderOrderComparator</td>
            </tr>
            <tr>
              <td><strong>AudioSystem</strong></td>
              <td>Plays sounds in response to messages (like footsteps, goose bites, or the victory sound).</td>
              <td>AudioListenerComponent, SoundMessage, WorldSoundMessage, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>HiddenWallSystem</strong></td>
              <td>Toggles hidden walls when it receives the right trigger message.</td>
              <td>HiddenWallComponent, MessagePublisher, InteractableSystem</td>
            </tr>
            <tr>
              <td><strong>InteractableSystem</strong></td>
              <td>Checks if the player interacts with an object and sends out messages (like collecting an item).</td>
              <td>InteractableComponent, PlayerComponent, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>GooseSystem</strong></td>
              <td>Controls the goose AI - handles chasing the player and reacting to collisions.</td>
              <td>GooseComponent, PlayerComponent, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>TimerSystem</strong></td>
              <td>Counts down timers and fires messages when they expire.</td>
              <td>TimerComponent, MessagePublisher</td>
            </tr>
            <tr>
              <td><strong>WorldCameraSystem</strong></td>
              <td>Makes the camera follow an entity with a CameraFollowComponent.</td>
              <td>CameraFollowComponent, TransformComponent</td>
            </tr>
            <tr>
              <td><strong>GameStateSystem</strong></td>
              <td>Checks win or lose conditions and shows end screens or messages.</td>
              <td>ScoreCard, MessagePublisher, GameOverScreen, WinScreen</td>
            </tr>
            <tr>
              <td><strong>SurveyorSystem</strong></td>
              <td>Manages the surveyor entity that interrupts the player with a survey.</td>
              <td>ChaserComponent, OpenSurveyMessage, TransformComponent, PhysicsComponent, InteractableMessage, AnimationComponent</td>
            </tr>
            <tr>
              <td><strong>LecturerSystem</strong></td>
              <td>Manages the Lecturer entity which chases the player and, if they're caught, traps them for a set time.</td>
              <td>ChaserComponent, TransformComponent, PhysicsComponent, InteractableComponent, AnimationComponent</td>
            </tr>
            <tr>
              <td><strong>ScoreCardSystem</strong></td>
              <td>Stores teh score the player achieved and an element-by-element breakdown.</td>
              <td>EventCounterSystem</td>
            </tr>
            <tr>
              <td><strong>AchievementSystem</strong></td>
              <td>Adds achievements to a HashSet and stores the achievements scored.</td>
              <td>AchievementMessage</td>
            </tr>
            <tr>
              <td><strong>EventCounterSystem</strong></td>
              <td>Keeps count of the number of events and can output a score summary.</td>
              <td>ScoreCardSystem</td>
            </tr>
            <tr>
              <td><strong>MetaGameState</strong></td>
              <td>Tracks the output of game sysetems, like high scores.</td>
              <td>ScoreCardSystem, AchievementSystem</td>
            </tr>
          </tbody>
        </table>

        <hr />

        <h2 id="messages-and-other-helpers">Messages and Other Helpers</h2>

        <p>These are the classes that connect systems together and handle smaller jobs like asset loading and sorting.</p>

        <table>
          <thead>
            <tr>
              <th>Component</th>
              <th>Responsibilities</th>
              <th>Collaborators</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Message</strong></td>
              <td>The base class for sending events around the game.</td>
              <td>MessagePublisher, MessageListener</td>
            </tr>
            <tr>
              <td><strong>MessagePublisher</strong></td>
              <td>Sends messages to anything that’s subscribed.</td>
              <td>All Systems</td>
            </tr>
            <tr>
              <td><strong>MessageListener</strong></td>
              <td>Used by systems that need to react to messages.</td>
              <td>MessagePublisher, various Systems</td>
            </tr>
            <tr>
              <td><strong>MessageType</strong></td>
              <td>Enum of different message categories (SOUND, INTERACT, LEVEL_COMPLETE, etc.).</td>
              <td>All message subclasses</td>
            </tr>
            <tr>
              <td><strong>CollisionConverter</strong></td>
              <td>Converts Box2D collision events into game messages.</td>
              <td>PhysicsSystem, InteractableSystem</td>
            </tr>
            <tr>
              <td><strong>AssetLoader</strong></td>
              <td>Loads and manages textures, sounds, and fonts.</td>
              <td>RenderingSystem, AudioSystem, EntityMaker</td>
            </tr>
            <tr>
              <td><strong>EntityMaker</strong></td>
              <td>Builds entities by attaching the right components.</td>
              <td>AssetLoader, all Components</td>
            </tr>
            <tr>
              <td><strong>FixedStepper / FixedStepSystem</strong></td>
              <td>Keeps physics and timer updates consistent regardless of frame rate.</td>
              <td>PhysicsSystem, TimerSystem</td>
            </tr>
            <tr>
              <td><strong>SafeBodyDestroy</strong></td>
              <td>Queues up physics bodies for safe removal (prevents Box2D errors).</td>
              <td>PhysicsSystem</td>
            </tr>
            <tr>
              <td><strong>RenderOrderComparator</strong></td>
              <td>Sorts entities for proper drawing order (layer then Y-position).</td>
              <td>RenderingSystem, SpriteComponent</td>
            </tr>
            <tr>
              <td><strong>EventCounter / ScoreCard</strong></td>
              <td>Tracks score and progress for the game state logic.</td>
              <td>GameStateSystem</td>
            </tr>
            <tr>
              <td><strong>FontGenerator</strong></td>
              <td>Creates fonts used in the menus and HUD.</td>
              <td>BaseMenuScreen, LevelScreen</td>
            </tr>
            <tr>
              <td><strong>OpenSurveyMessage</strong></td>
              <td>Sent whenever the player interacts with the surveyor student.</td>
              <td>SurveyorSystem, InteractableMessage</td>
            </tr>
            <tr>
              <td><strong>AchievementMessage</strong></td>
              <td>Requests an achivement to be saved to the game.</td>
              <td>AchivementSystem, MessageSystem</td>
            </tr>
            <tr>
              <td><strong>LectureMessage</strong></td>
              <td>Sent whenever the player interacts with the lecturer.</td>
              <td>LecturerSystem, InteractableMessage</td>
            </tr>
            <tr>
              <td><strong>InteractableMessage</strong></td>
              <td>Represents a message generated by an interactable object the player collides with.</td>
              <td>Message, OpenSurveyMessage, LectureMessage</td>
            </tr>
            <tr>
              <td><strong>CollisionMessage</strong></td>
              <td>Sent when two objects start colliding in the physics engine.</td>
              <td>Message</td>
            </tr>
          </tbody>
        </table>

        <hr />

        <h2 id="why-we-used-crc-cards">Why We Used CRC Cards</h2>

        <p>Making CRC cards helped us figure out what each part of the game should be responsible for.<br />
        It stopped us from putting too much logic into one system and made it easier for everyone on the team to see how things connected.</p>

        <p>They also helped us link our requirements to the actual code. For example:</p>

        <ul>
          <li>
            <p><strong>Door and pressure plate feature:</strong><br />
            Done with InteractableComponent, InteractableSystem, and HiddenWallSystem.<br />
            When the player steps on the plate, a PressurePlateTriggerMessage tells the wall to open.</p>
          </li>
          <li>
            <p><strong>Audio feedback:</strong><br />
            Done through the AudioSystem, which plays sounds when it receives SoundMessage or WorldSoundMessage.</p>
          </li>
        </ul>

        <hr />

        <h2 id="notes">Notes</h2>

        <p>Making these cards early on was really helpful. It let us spot overlap between systems and simplify the design.
        For example, we originally put the camera logic in PlayerSystem, but moving it into a separate WorldCameraSystem made things much cleaner.</p>

        <p>Overall, the CRC cards gave us a simple way to plan and communicate how everything fits together in our ECS design.</p>
      </div>

    </article>
  </div>
</main>

<footer class="site-footer">
  <div class="wrapper">
    <h2 class="footer-heading">ENG1-C1G5</h2>
  </div>
</footer>
</body>
</html>
